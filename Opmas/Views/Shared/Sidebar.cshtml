@using Opmas.Data.Objects.Entities.Employee
@using Opmas.Data.Objects.Entities.SystemManagement
@using Opmas.Data.Objects.Entities.User
@using Opmas.Data.Service.Enums
@{
    var loggedinuser = Session["opmasloggedinuser"] as AppUser;
    var institution = Session["institution"] as Institution;
    var userRole = Session["role"] as Role;

    if (loggedinuser == null)
    {
        new HttpStatusCodeResult(HttpStatusCode.BadRequest);
        return;
    }
}
@if (userRole != null)
{
    <!-- sidebar menu -->
    <div id="sidebar-menu" class="main_menu_side hidden-print main_menu">
    <div class="menu_section">
    <h3>General</h3>
    <ul class="nav side-menu">
    @if (userRole.ManageAdminAppUsers)
    {
        <li>
            <a><i class="fa fa-users"></i> Administrative Users <span class="fa fa-chevron-down"></span></a>
            <ul class="nav child_menu">
                <li>
                    <a href="@Url.Action("Create", "AppUsers")">Add Administrative User</a>
                </li>
                <li>
                    <a href="@Url.Action("Index", "AppUsers")">Active Administrative Users</a>
                </li>
                <li>
                    <a href="@Url.Action("Index", "AppUsers")">Inactive Administrative Users</a>
                </li>
            </ul>
        </li>
    }
    @if ((userRole.Name != "Platform Administrator") && (userRole.Name != "Institution Administrator") && (loggedinuser.EmployeeId != null))
    {
        <li>
            <a><i class="fa fa-users"></i> Record Management <span class="fa fa-chevron-down"></span></a>
            <ul class="nav child_menu">
                <li>
                    <a href="@Url.Action("EditPersonalData", "EmployeeManagement", new {id = loggedinuser.EmployeeId})">My Personal Data</a>
                </li>
                <li>
                    <a href="@Url.Action("ListOfEducationalQualification", "EmployeeManagement", new {id = loggedinuser.EmployeeId})">My Educational Qualification</a>
                </li>
                <li>
                    <a href="@Url.Action("ListOfPastWorkExperience", "EmployeeManagement", new {id = loggedinuser.EmployeeId})">My Past Work Experience</a>
                </li>
                <li>
                    <a href="@Url.Action("EditEmployeeFamilyData", "EmployeeManagement", new {id = loggedinuser.EmployeeId})">My Family</a>
                </li>
                <li>
                    <a href="@Url.Action("ListOfBankData", "EmployeeManagement", new {id = loggedinuser.EmployeeId})">My Bank Data</a>
                </li>
                <li>
                    <a href="@Url.Action("EditMedicalData", "EmployeeManagement", new {id = loggedinuser.EmployeeId})">My Medical Data</a>
                </li>
            </ul>
        </li>
    }
    @if (userRole.ManageAllInstitutions)
    {
        <li>
            <a><i class="fa fa-hospital-o"></i> Institutions <span class="fa fa-chevron-down"></span></a>
            <ul class="nav child_menu">
                <li>
                    <a href="@Url.Action("Index", "Institutions")">All Institutions</a>
                </li>
                <li>
                    <a href="@Url.Action("GetInstitutionsByCategory", "Institutions", new {category = InstitutionCategory.Cooperations.ToString()})">Active Intitutions</a>
                </li>
                <li>
                    <a href="@Url.Action("GetInstitutionsByCategory", "Institutions", new {category = InstitutionCategory.Government.ToString()})">Inactive Institutions</a>
                </li>
            </ul>
        </li>
    }
    @if (userRole.ManagePackages)
    {
        <li>
            <a><i class="fa fa-gift"></i> Packages <span class="fa fa-chevron-down"></span></a>
            <ul class="nav child_menu">
                <li>
                    <a href="@Url.Action("Index", "Package")">Packages</a>
                </li>
            </ul>
        </li>
    }
    @if (userRole.ManageInstitutions)
    {
        <li>
            <a><i class="fa fa-user-times"></i> Intitution Management <span class="fa fa-chevron-down"></span></a>
            <ul class="nav child_menu">
                @if (institution != null)
                {
                    <li>
                        <a href="@Url.Action("Edit", "Institutions", new {id = institution.InstitutionId})">Modify Institution Data</a>
                    </li>
                }
            </ul>
        </li>
    }
    @if (userRole.ManageEmployees && (institution != null))
    {
        <li>
            <a><i class="fa fa-user-times"></i> Employee Management <span class="fa fa-chevron-down"></span></a>
            <ul class="nav child_menu">
                <li>
                    <a href="@Url.Action("ListOfEmployeesByStatus", "EmployeeManagement", new {status = EmploymentStatus.Active, id = institution.InstitutionId})">Active Employee(s)</a>
                </li>
                <li>
                    <a href="@Url.Action("ListOfEmployeesByStatus", "EmployeeManagement", new {status = EmploymentStatus.OnLeave, id = institution.InstitutionId})">On-Leave Employee(s)</a>
                </li>
                <li>
                    <a href="@Url.Action("ListOfEmployeesByStatus", "EmployeeManagement", new {status = EmploymentStatus.Suspended, id = institution.InstitutionId})">Suspended Employee(s)</a>
                </li>
                <li>
                    <a href="@Url.Action("ListOfEmployeesByStatus", "EmployeeManagement", new {status = EmploymentStatus.Retired, id = institution.InstitutionId})">Retired Employee(s)</a>
                </li>

            </ul>
        </li>
    }
    @if (userRole.ManageAppUsers)
    {
        <li>
            <a><i class="fa fa-users"></i> Application Users <span class="fa fa-chevron-down"></span></a>
            <ul class="nav child_menu">
                @*<li>
                            <a href="@Url.Action("Create", "AppUsers")">Add Application User</a>
                        </li>*@
                <li>
                    <a href="@Url.Action("Index", "AppUsers")">Application Users</a>
                </li>
                <li>
                    <a href="@Url.Action("Index", "AppUsers")">Active Application Users</a>
                </li>
                <li>
                    <a href="@Url.Action("Index", "AppUsers")">Inactive Application Users</a>
                </li>
            </ul>
        </li>
    }
    @if (userRole.ManageRolePriviledges)
    {
        <li>
            <a><i class="fa fa-universal-access"></i> User Priviledges <span class="fa fa-chevron-down"></span></a>
            <ul class="nav child_menu">
                <li>
                    <a href="@Url.Action("Create", "Roles")">Add New Role</a>
                </li>
                <li>
                    <a href="@Url.Action("Index", "Roles")">Roles</a>
                </li>
            </ul>
        </li>
    }
    @if (userRole.ManageFaculties)
    {
        <li>
            <a><i class="fa fa-desktop"></i> Faculties <span class="fa fa-chevron-down"></span></a>
            <ul class="nav child_menu">
                @*<li>
                            <a href="@Url.Action("Create", "Faculties")">Add Faculty</a>
                        </li>*@
                <li>
                    <a href="@Url.Action("Index", "Faculties")">Faculties</a>
                </li>
            </ul>
        </li>
    }
    @if (userRole.ManageDepartments)
    {
        <li>
            <a><i class="fa fa-user-secret"></i> Departments <span class="fa fa-chevron-down"></span></a>
            <ul class="nav child_menu">
                <li>
                    <a href="@Url.Action("Index", "Departments")">Departments</a>
                </li>
            </ul>
        </li>
    }
    @if (userRole.ManageTraining)
    {
        <li>
            <a><i class="fa fa-gift"></i>Employee Training <span class="fa fa-chevron-down"></span></a>
            <ul class="nav child_menu">
                <li>
                    <a href="@Url.Action("Index", "EmployeeTrainings")">Attendee List</a>
                </li>
            </ul>
        </li>
    }
    @if (userRole.ManageTrainingTypes)
    {
        <li>
            <a><i class="fa fa-wrench"></i> Training Settings <span class="fa fa-chevron-down"></span></a>
            <ul class="nav child_menu">
                <li>
                    <a href="@Url.Action("Index", "TrainingCategories")">Training Types</a>
                </li>
            </ul>
        </li>
    }
    @if (userRole.ManageEmploymentTypes)
    {
        <li>
            <a><i class="fa fa-wrench"></i> Employment Settings <span class="fa fa-chevron-down"></span></a>
            <ul class="nav child_menu">
                <li>
                    <a href="@Url.Action("Index", "EmploymentTypes")">Employment Type</a>
                </li>
                <li>
                    <a href="@Url.Action("Index", "EmploymentCategories")">Employment Category</a>
                </li>
            </ul>
        </li>
    }
    </ul>
    </div>
    <div class="menu_section">
        <h3>Live On</h3>
        <ul class="nav side-menu">
            <li>
                <a><i class="fa fa-bug"></i> Additional Pages <span class="fa fa-chevron-down"></span></a>
                <ul class="nav child_menu">
                    <li>
                        <a href="e_commerce.html">E-commerce</a>
                    </li>
                    <li>
                        <a href="projects.html">Projects</a>
                    </li>
                    <li>
                        <a href="project_detail.html">Project Detail</a>
                    </li>
                    <li>
                        <a href="contacts.html">Contacts</a>
                    </li>
                    <li>
                        <a href="profile.html">Profile</a>
                    </li>
                </ul>
            </li>
            <li>
                <a><i class="fa fa-windows"></i> Extras <span class="fa fa-chevron-down"></span></a>
                <ul class="nav child_menu">
                    <li>
                        <a href="page_403.html">403 Error</a>
                    </li>
                    <li>
                        <a href="page_404.html">404 Error</a>
                    </li>
                    <li>
                        <a href="page_500.html">500 Error</a>
                    </li>
                    <li>
                        <a href="plain_page.html">Plain Page</a>
                    </li>
                    <li>
                        <a href="login.html">Login Page</a>
                    </li>
                    <li>
                        <a href="pricing_tables.html">Pricing Tables</a>
                    </li>
                </ul>
            </li>
            <li>
                <a><i class="fa fa-sitemap"></i> Multilevel Menu <span class="fa fa-chevron-down"></span></a>
                <ul class="nav child_menu">
                    <li><a href="#level1_1">Level One</a>
                    <li>
                        <a>Level One<span class="fa fa-chevron-down"></span></a>
                        <ul class="nav child_menu">
                            <li class="sub_menu">
                                <a href="level2.html">Level Two</a>
                            </li>
                            <li>
                                <a href="#level2_1">Level Two</a>
                            </li>
                            <li>
                                <a href="#level2_2">Level Two</a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a href="#level1_2">Level One</a>
                    </li>
                </ul>
            </li>
            <li>
                <a href="javascript:void(0)"><i class="fa fa-laptop"></i> Landing Page <span class="label label-success pull-right">Coming Soon</span></a>
            </li>
        </ul>
    </div>

    </div>
    <!-- /sidebar menu -->
}